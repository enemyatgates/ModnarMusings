<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>notion~00 :: Modnar Musings</title><link>https://enemyatgates.github.io/ModnarMusings/notion~00/index.html</link><description>This is a title page for notion~00.</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Mon, 01 Jan 0001 00:00:00 +0000</lastBuildDate><atom:link href="https://enemyatgates.github.io/ModnarMusings/notion~00/index.xml" rel="self" type="application/rss+xml"/><item><title>Notion Keys</title><link>https://enemyatgates.github.io/ModnarMusings/notion~00/env/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://enemyatgates.github.io/ModnarMusings/notion~00/env/index.html</guid><description>NOTION_API_KEY=your_notion_api_key_here
DASHBOARD_PAGE_ID=your_dashboard_page_id TOOLBOX_PAGE_ID=your_toolbox_page_id PHILOSOPHY_PAGE_ID=your_philosophy_page_id GROOMING_PAGE_ID=your_grooming_page_id</description></item><item><title>Sync to Notion</title><link>https://enemyatgates.github.io/ModnarMusings/notion~00/notion_sync/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://enemyatgates.github.io/ModnarMusings/notion~00/notion_sync/index.html</guid><description>name: Sync to Notion on: push: paths: - 'notes/**.md' - 'sync_to_notion.py' schedule: - cron: '0 */12 * * *' jobs: sync: runs-on: ubuntu-latest steps: - name: Checkout repo uses: actions/checkout@v3 - name: Set up Python uses: actions/setup-python@v4 with: python-version: '3.11' - name: Install dependencies run: | python -m pip install --upgrade pip pip install notion-client python-dotenv - name: Run sync script env: NOTION_API_KEY: ${{ secrets.NOTION_API_KEY }} DASHBOARD_PAGE_ID: ${{ secrets.DASHBOARD_PAGE_ID }} TOOLBOX_PAGE_ID: ${{ secrets.TOOLBOX_PAGE_ID }} PHILOSOPHY_PAGE_ID: ${{ secrets.PHILOSOPHY_PAGE_ID }} GROOMING_PAGE_ID: ${{ secrets.GROOMING_PAGE_ID }} run: python sync_to_notion.py</description></item><item><title>The Python Code</title><link>https://enemyatgates.github.io/ModnarMusings/notion~00/sync_to_notion/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://enemyatgates.github.io/ModnarMusings/notion~00/sync_to_notion/index.html</guid><description>Start of the Code
import os import glob from notion_client import Client from dotenv import load_dotenv # Load environment variables from .env file load_dotenv() notion = Client(auth=os.getenv("NOTION_API_KEY")) # Page ID mappings PAGE_IDS = { "üèõÔ∏è Dashboard": os.getenv("DASHBOARD_PAGE_ID"), "üõ†Ô∏è Toolbox &amp; Tactics": os.getenv("TOOLBOX_PAGE_ID"), "üåÄ Philosophical Constructs": os.getenv("PHILOSOPHY_PAGE_ID"), "üë®‚Äçüëß Grooming Legacy": os.getenv("GROOMING_PAGE_ID"), } def update_page_from_md(page_title, md_path): with open(md_path, 'r', encoding='utf-8') as file: content = file.read() # Truncate if over Notion block character limit content = content[:2000] # Convert markdown to Notion paragraph block blocks = [{ "object": "block", "type": "paragraph", "paragraph": { "rich_text": [{ "type": "text", "text": {"content": content} }] } }] print(f"Updating Notion page: {page_title}") notion.blocks.children.append(PAGE_IDS[page_title], children=blocks) def sync_all_notes(): for md_file in glob.glob("./notes/*.md"): title = os.path.basename(md_file).replace(".md", "") if title in PAGE_IDS: update_page_from_md(title, md_file) if __name__ == "__main__": sync_all_notes() End of the Code.</description></item></channel></rss>